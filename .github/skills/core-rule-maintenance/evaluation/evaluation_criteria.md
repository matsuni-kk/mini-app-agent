# Core Rule Maintenance 評価指標

## 必須チェック項目

### 構造チェック（Pass/Fail）

| 項目 | 基準 | 重要度 |
|------|------|--------|
| セクション構造維持 | CLAUDE.mdの7セクション構成が崩れていない | Critical |
| 変数参照整合性 | パス辞書の変数参照が全て解決可能 | Critical |
| WF索引整合性 | 参照先Skillが全て存在する | Critical |
| 3環境同期実施 | update_agent_master.pyを実行済み | Critical |
| Skills/Assets統一 | skills配下（assets/questions/evaluation/triggers/scripts含む）が同期で統一されている | High |
| 循環参照なし | パス辞書/WF索引に循環参照がない | High |
| 最小差分 | 変更は必要最小限に留まっている | High |

### 内容チェック（スコアリング）

| 観点 | 評価基準 | 配点 |
|------|----------|------|
| 整合性 | 変更内容が既存ルールと矛盾しない | 30 |
| 完全性 | 影響を受ける関連箇所も更新されている | 25 |
| 明確性 | 変更内容が明確で曖昧さがない | 25 |
| トレーサビリティ | 変更理由が記録されている | 20 |

### 許容例外

- 軽微なtypo修正は3環境同期のみで可
- コメント追加のみの変更は影響範囲確認を省略可

---

## セクション別チェック

### Section 6: ワークフロー索引

- [ ] 追加/変更したSkillが存在する
- [ ] 連携先（→）のSkillが存在する
- [ ] 連携先SkillのNext Action triggersと整合している
- [ ] 該当フェーズが適切

### Section 7: パス辞書

- [ ] 変数名がユニーク
- [ ] 参照先変数が存在する
- [ ] 循環参照がない
- [ ] 命名規則に従っている
- [ ] 使用するSkillsで正しく参照できる

---

## 採点基準

- **Pass**: 全CriticalチェックがPass かつ スコア80点以上
- **Conditional Pass**: 全CriticalチェックがPass かつ スコア60-79点
- **Fail**: CriticalチェックにFailあり または スコア60点未満

---

## QC報告フォーマット

```
### QC結果: [Pass/Conditional Pass/Fail]
スコア: [XX]/100

#### 構造チェック
- [ ] セクション構造維持: [Pass/Fail]
- [ ] 変数参照整合性: [Pass/Fail]
- [ ] WF索引整合性: [Pass/Fail]
- [ ] 3環境同期実施: [Pass/Fail]
- [ ] 循環参照なし: [Pass/Fail]
- [ ] 最小差分: [Pass/Fail]

#### 内容チェック
- 整合性: [XX]/30
- 完全性: [XX]/25
- 明確性: [XX]/25
- トレーサビリティ: [XX]/20

#### 指摘事項
1. [指摘内容]

#### 推奨修正
1. [修正提案]
```
